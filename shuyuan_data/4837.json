[
  {
    "bookSourceComment": "//by SunQAQ\n//ç™»å½•ä½¿ç”¨ï¼Œæ²¡æœ‰è´¦å·å°±å»æ³¨å†Œã€‚\r\n//å‘ç°è¦åˆ·æ–°æ‰èƒ½ç”¨ã€‚\r\n//ç½‘ç»œä¸ç¨³å®šï¼Œæœ‰æ—¶å€™éœ€è¦å¼€æ¢¯å­ã€‚\r\n//var authorization = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZmQ5NTI0NzY4M2FlMzFkOThjNGU3NGQiLCJlbWFpbCI6IjI3NDk3ODg4NyIsInJvbGUiOiJtZW1iZXIiLCJuYW1lIjoiU3VuUSIsInZlcnNpb24iOiIyLjIuMS4zLjMuNCIsImJ1aWxkVmVyc2lvbiI6IjQ1IiwicGxhdGZvcm0iOiJhbmRyb2lkIiwiaWF0IjoxNzEwMTQzMTU1LCJleHAiOjE3MTA3NDc5NTV9.IyHHyZUSGTfmFVCcFBwHAqiWFDbVp4IP1yOP5oGO4pw\";\nauthorization = cache.get(\"authorization\");\r\nvar appleKillFlag = 'C69BAF41DA5ABD1FFEDC6D2FEA56B';\r\nvar appleVerSion = '~d}$Q7$eIni=V)9\\\\RK/P.RM4;9[7|@/CA}b~OW!3?EV`:<>M7pddUBL5n|0/*Cn';\r\nvar nonce = \"mhadwk5fxhrwktzsrtre8rkbj5r6hd2r\";\r\nvar setTime = (new Date().getTime() / 1000).toFixed(0);\r\nfunction getsignature(pathname, ts, method) {\r\n    var raw = pathname + ts + \"mhadwk5fxhrwktzsrtre8rkbj5r6hd2r\" + method + appleKillFlag;\r\n    raw = raw.toLowerCase();\r\n    return java.HMacHex(raw, \"HmacSHA256\", appleVerSion);\r\n}\r\nfunction getheaders(setTime, nonce, signature) {\r\n    var header = \"\\\"Time\\\":\\\"\" + setTime + \"\\\",\\\"Content-Type\\\":\\\"application/json; charset=UTF-8\\\",\\\"nonce\\\":\\\"\" + nonce + \"\\\", \\\"signature\\\":\\\"\" + signature + \"\\\",\\\"Accept\\\":\\\"application/vnd.picacomic.com.v1+json\\\",\\\"app-uuid\\\":\\\"webUUID\\\",\\\"authorization\\\":\\\"\" + authorization + \"\\\",\\\"app-platform\\\":\\\"android\\\",\\\"app-channel\\\":\\\"1\\\",\\\"Host\\\":\\\"api.manhuapica.com\\\",\\\"User-Agent\\\":\\\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0\\\"\";\r\n    return header;\r\n}",
    "bookSourceGroup": "ğŸ’œæ¼«ç”»,ğŸ’•æ¶©æ¶©,â˜€å…¶ä¸€",
    "bookSourceName": "âœˆâ–²å“”å’”å“”å’”manhuapica",
    "bookSourceType": 2,
    "bookSourceUrl": "https://manhuapica.com",
    "customOrder": 149,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": true,
    "exploreUrl": "<js>\neval(String(source.bookSourceComment));\nfunction explore(a, b, c, d, e) {\n  style = \"{title: \\\"\" + a + \"\\\",url: \\\"\" + b + \"\\\",style: {layout_flexGrow:\" + c + \",layout_flexBasisPercent:\" + d + \",layout_wrapBefore: \" + e + \"}}\";\n  return style;\n}\nvar exploreUrl = [];\ntitle = [\"æœ¬æ—¥æ’è¡Œ\", \"æœ¬å‘¨æ’è¡Œ\", \"æœ¬æœˆæ’è¡Œ\"];\ntype = [\"tt=H24&ct=VC\", \"tt=D7&ct=VC\", \"tt=D30&ct=VC\"];\nfor (i in title) {\n  var pathname = \"comics/leaderboard?\" + type[i];\n  var method = \"GET\";\n  var signature = getsignature(pathname, setTime, method);\n  var headers = getheaders(setTime, nonce, signature).replace(/\\\"/g, '\\\\\\\"');\n  var url = \"https://api.manhuapica.com/\" + pathname + \",{\\\\\\\"method\\\\\\\":\\\\\\\"GET\\\\\\\",\\\\\\\"headers\\\\\\\":{\" + headers + \"}}\";\n  exploreUrl.push(explore(title[i], url, 0x1, 0.25, ![]));\n}\nexploreUrl.splice(0x0, 0x0, explore(\"à¼ºË‡Â»`Êš ã€€  âœ¨æ’è¡Œæ¦œâœ¨  ã€€ ÉÂ´Â«Ë‡à¼»\", '', 0x1, 0x1, ![]));\nvar exploreUrlStr = '[' + exploreUrl.slice(0, 4).join(',') + ']';\nexploreUrlStr;</js>",
    "lastUpdateTime": 1710152149474,
    "loginUi": "[\r\n    {\r\n        \"name\": \"è´¦å·ï¼š\",\r\n        \"type\": \"text\"\r\n    },\r\n    {\r\n        \"name\": \"å¯†ç ï¼š\",\r\n        \"type\": \"password\"\r\n    },\r\n    {\r\n        \"name\": \"                           ç™»å½•                           \",\r\n        \"type\": \"button\",\r\n        \"action\": \"Login()\"\r\n    }\r\n]",
    "loginUrl": "eval(String(source.bookSourceComment));\r\nfunction Login() {\r\n    Account = result['è´¦å·ï¼š'] ? result['è´¦å·ï¼š'] : source.getLoginInfoMap()[\"è´¦å·ï¼š\"];\r\n    Password = result['å¯†ç ï¼š'] ? result['å¯†ç ï¼š'] : source.getLoginInfoMap()[\"å¯†ç ï¼š\"];\r\n    if (Account == '' && Password == '') {\r\n        login('ã€ç™»å½•æç¤ºã€‘' + '\\n\\nè¯·è¾“å…¥è´¦å·å’Œå¯†ç ');\r\n    } else if (Account == '') {\r\n        login('ã€ç™»å½•æç¤ºã€‘' + '\\n\\nè¯·è¾“å…¥è´¦å·');\r\n    } else if (Password == '') {\r\n        login('ã€ç™»å½•æç¤ºã€‘' + '\\n\\nè¯·è¾“å…¥å¯†ç ');\r\n    } else {\r\n        //è¯·æ±‚è·¯å¾„ï¼š/auth/sign-in\r\n        var pathname = 'auth/sign-in';\r\n        //è¯·æ±‚æ–¹å¼ï¼šPOST\r\n        var method = \"POST\";\r\n        //è¯·æ±‚ä½“ï¼š{\"email\":\"274978887\",\"password\":\"sq123456789,.\"}\r\n        var requestBody = '{\"email\":\"' + Account + '\",\"password\":\"' + Password + '\"}';\r\n        //è¯·æ±‚å¤´ï¼šä½¿ç”¨æºæ³¨é‡Šè¾…åŠ©ç”Ÿæˆ\r\n        var signature = getsignature(pathname, setTime, method);\r\n        var headers = \"\\{\\\"time\\\":\\\"\" + setTime + \"\\\",\\\"Content-Type\\\":\\\"application/json; charset=UTF-8\\\",\\\"nonce\\\":\\\"\" + nonce + \"\\\", \\\"signature\\\":\\\"\" + signature + \"\\\",\\\"Accept\\\":\\\"application/vnd.picacomic.com.v1+json\\\",\\\"app-uuid\\\":\\\"webUUID\\\"\\}\";\r\n        var option = {\r\n            \"method\": String(method),\r\n            \"body\": String(requestBody),\r\n            \"headers\": String(headers)\r\n        };\r\n        Response = java.ajax('https://api.go2778.com/auth/sign-in,' + JSON.stringify(option));\r\n        if (JSON.parse(Response).code == 200) {\r\n            let jsondata = JSON.parse(Response);\r\n            let token = jsondata.data.token;\r\n            cache.put(\"authorization\", token);\r\n            java.log(Response);\r\n            login('ã€ç™»å½•æç¤ºã€‘\\n\\nâ”â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”â”…â”â”…â”“\\nâ”‹â”‹' + '\\n' + Account + '\\nâ”‹â”‹' + '\\nâ¤ï¸ç™»å½•æˆåŠŸâ¤ï¸\\nâ”‹â”‹' + '\\nâ”—â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”â”…â”â”…â”›');\r\n        } else {\r\n            java.log(Response);\r\n            login('ã€ç™»å½•æç¤ºã€‘' + '\\n' + Account + '\\nâ™£ï¸ç™»å½•å¤±è´¥â™£ï¸\\n\\nè¯·æ£€æŸ¥è´¦å·å’Œå¯†ç ');\r\n        }\r\n    }\r\n}\r\n\r\nfunction login(e) {\r\n    if (e == undefined) {\r\n        return;\r\n    }\r\n    java.longToast(e);\r\n}",
    "respondTime": 180000,
    "ruleBookInfo": [],
    "ruleContent": {
      "content": "$..docs.[*].media.path##tobeimg##https\\:\\/\\/img.go2778.com",
      "imageStyle": "full",
      "replaceRegex": "##(https\\:(.*?)(?:jpg|png))##<img src=\\\"$1\\\">"
    },
    "ruleExplore": {
      "author": "author",
      "bookList": "$..comics.[*]",
      "bookUrl": "<js>\neval(String(source.bookSourceComment));\nvar pathname = \"comics/\" + '@get:{id}' + \"/eps?page=1\";\nvar method = \"GET\";\nvar signature = getsignature(pathname, setTime, method);\nvar headers = getheaders(setTime, nonce, signature);\nend = \"https://api.manhuapica.com/\" + pathname + \",{\\\"method\\\":\\\"GET\\\",\\\"headers\\\":{\" + headers + \"}}\";\nend;\n</js>",
      "coverUrl": "thumb.path##tobeimg##https\\:\\/\\/img.go2778.com",
      "kind": "categories",
      "name": "title",
      "wordCount": "@put:{id:$._id}"
    },
    "ruleSearch": {
      "author": "author",
      "bookList": "$..docs.[*]",
      "bookUrl": "<js>\neval(String(source.bookSourceComment));\nvar pathname = \"comics/\" + '@get:{id}' + \"/eps?page=1\";\nvar method = \"GET\";\nvar signature = getsignature(pathname, setTime, method);\nvar headers = getheaders(setTime, nonce, signature);\nend = \"https://api.manhuapica.com/\" + pathname + \",{\\\"method\\\":\\\"GET\\\",\\\"headers\\\":{\" + headers + \"}}\";\nend;\n</js>",
      "coverUrl": "thumb.path##tobeimg##https\\:\\/\\/img.go2778.com",
      "intro": "description",
      "kind": "tags",
      "lastChapter": "created_at",
      "name": "title",
      "wordCount": "@put:{id:$._id}"
    },
    "ruleToc": {
      "chapterList": "$..docs.[*]\n@js:\nresult.toArray().reverse().map(a => JSON.stringify(a));",
      "chapterName": "title",
      "chapterUrl": "order\n<js>\neval(String(source.bookSourceComment));\nvar id = '@get:{id}';\nvar order = result;\nvar pathname = \"comics/\" + id + \"/order/\" + order + \"/pages?page=1\";\nvar method = \"GET\";\nvar signature = getsignature(pathname, setTime, method);\nvar headers = getheaders(setTime, nonce, signature);\nvar end = \"https://api.manhuapica.com/\" + pathname + \",{\\\"method\\\":\\\"GET\\\",\\\"headers\\\":{\" + headers + \"}}\";\nresult = end;\n</js>",
      "updateTime": "updated_at"
    },
    "searchUrl": "<js>\neval(String(source.bookSourceComment));\n(function searchComicList(searchKeys) {\n    var pathname = \"comics/advanced-search?page=\" + page + \"&s=dd\";\n    var method = \"POST\";\n    var body = \"\\{\\\"keyword\\\":\\\"\" + searchKeys + \"\\\",\\\"sort\\\":\\\"dd\\\"\\}\";\n    var signature = getsignature(pathname, setTime, method);\n    var headers = getheaders(setTime, nonce, signature);\n    end = \"https://api.manhuapica.com/\" + pathname + \",{\\\"method\\\":\\\"POST\\\",\\\"headers\\\":{\" + headers + \"},\\\"body\\\":'\" + body + \"'}\";\n    return end;\n}(key));\n</js>",
    "weight": 0
  }
]