[
  {
    "bookSourceComment": "//by SunQAQ\n//ç™»å½•æ‰èƒ½æ˜¾ç¤ºå°é¢\n//ä¸‹è½½éœ€è¦å»æµè§ˆå™¨ä¸‹è½½ï¼Œåªæä¾›å›¾ç‰‡é¢„è§ˆåŠŸèƒ½ã€‚\r\n/*è®¿é—®è¿‡å¿«å®•æœºï¼Œå‡ºé”™äº†ä¼šé‡è¯•åŠ è½½ã€‚\r\nä»¥ä¸‹ä»£ç å‹¿åŠ¨ï¼å¯åœ¨jsä¸­é€šè¿‡eval(String(source.bookSourceComment))\r\nè°ƒç”¨*/\r\nvar error = /404 Not Found/;\r\nvar maxRetries = 30; // è®¾ç½®æœ€å¤§é‡è¯•æ¬¡æ•°  \r\nvar retryCount = 0; // åˆå§‹åŒ–é‡è¯•æ¬¡æ•°  \r\nwhile (error.test(result) && retryCount < maxRetries) {\r\n    java.log(\"ç½‘ç«™å‡ºé”™ï¼Œé‡æ–°åŠ è½½\");\r\n    //cookie.removeCookie(baseUrl);\r\n    result = java.ajax(baseUrl);\r\n    retryCount++; // æ¯æ¬¡å¾ªç¯åå¢åŠ é‡è¯•æ¬¡æ•°è®¡æ•°å™¨  \r\n}\r\nif (retryCount === maxRetries) {\r\n    java.log(\"é‡è¯•æ¬¡æ•°å·²è¾¾åˆ°ä¸Šé™ï¼Œæ”¾å¼ƒé‡è¯•\");\r\n} else {\r\n    result; // å¦‚æœå¾ªç¯ç»“æŸä¸”æœªè¾¾åˆ°ä¸Šé™ï¼Œåˆ™è¿”å›ç»“æœ  \r\n}",
    "bookSourceGroup": "ğŸ’›æ¸¸æˆ,ğŸ’•æ¶©æ¶©,â˜€å…¶ä¸€",
    "bookSourceName": "â–²GGBsaesæ¸¸æˆggbase",
    "bookSourceType": 2,
    "bookSourceUrl": "https://ggbases.dlgal.com",
    "customOrder": 139,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "ä¸»é¡µ::/search.so?p=",
    "lastUpdateTime": 1712124457801,
    "loginUi": "",
    "loginUrl": "/log.so?uxt=8xerta32e",
    "respondTime": 180000,
    "ruleBookInfo": {
      "intro": "id.description@td@div@html",
      "tocUrl": "<js>\r\nvar str = result;\r\nvar match = str.match(/\\$\\(\\\"\\#showCoverBtn\\\"\\)\\.attr\\(\\\"href\\\", \\\"\\/\\/(.*?)\\\"/);\r\nvar mlurl = 'https:\\/\\/' + match[1] + ',{\\\"webView\\\":true}';\r\nresult = mlurl;\r\n</js>"
    },
    "ruleContent": {
      "content": "<js>\neval(String(source.bookSourceComment));\n</js>\nid.showpictd@img@src",
      "imageStyle": "FULL",
      "nextContentUrl": "<js>\nvar str = result;\nvar match1 = str.match(/window.location.href = \\\"(\\/\\/.*?)\\\"/);\nvar match3 = str.match(/\\\"disabled\\\">.*?\\/(.*?)<\\/button>/);\nvar xyyurl = [];\nvar link;\nfor (i = 1; i < match3[1]; i++) {\n    link = 'https:' + match1[1] + i + ',{\\\"webView\\\":true}';\n    xyyurl.push({ url: link });\n}\nJSON.stringify(xyyurl);\n</js>\n$.[*].url",
      "replaceRegex": "##(\\/\\/cover(.+)(?:jpg|gif))##<img src=\\\"http:$1\\\">"
    },
    "ruleExplore": {
      "bookList": "",
      "bookUrl": "",
      "coverUrl": "",
      "lastChapter": "",
      "name": "",
      "wordCount": ""
    },
    "ruleSearch": {
      "bookList": "class.dtr",
      "bookUrl": "class.t-l.1@a@href",
      "checkKeyWord": "ä¸­æ–‡",
      "coverUrl": "class.t-l.1@a@c\n<js>\n// è·å–å½“å‰å…ƒç´ çš„\"c\"å±æ€§å€¼\r\n//var src = \"RJ321341\";\r\nvar src = result;\r\n//java.log(src);\r\n// å®šä¹‰ä¸¤ä¸ªæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ï¼Œç”¨äºåŒ¹é…URLå‰ç¼€\r\nvar r1 = new RegExp(\"^http\"), r2 = new RegExp(\"^//\");\r\n\r\n// å½“srcéç©ºã€é\" \"æ—¶æ‰§è¡Œä»¥ä¸‹é€»è¾‘\r\nif (src && src != \"\" && src != \" \") {\r\n\tif (/^d[0-9]{6,8}$/.test(src)) {\r\n\t\tsrc = gendlcover(src.substr(1, src.length)); // å¤„ç†ä»¥\"d\"å¼€å¤´çš„src\r\n\t} else if (/^RJ[0-9]{6,8}$/.test(src)) {\r\n\t\tsrc = gendlcover(src.substr(2, src.length)); // å¤„ç†ä»¥\"RJ\"å¼€å¤´çš„src\r\n\t} else if (/^v[0-9]{6,8}$/.test(src)) {\r\n\t\tsrc = gendlcover(src.substr(1, src.length), 1); // å¤„ç†ä»¥\"v\"å¼€å¤´çš„srcï¼Œå¸¦å‚æ•°1\r\n\t} else if (/^VJ[0-9]{6,8}$/.test(src)) {\r\n\t\tsrc = gendlcover(src.substr(2, src.length), 1); // å¤„ç†ä»¥\"VJ\"å¼€å¤´çš„srcï¼Œå¸¦å‚æ•°1\r\n\t} else if (/^g[0-9]{6,7}$/.test(src)) {\r\n\t\tsrc = gengccover(src.substr(1, src.length)); // å¤„ç†ä»¥\"g\"å¼€å¤´çš„src\r\n\t} else if (/^gc[0-9]{6,7}$/.test(src)) {\r\n\t\tsrc = gengccover(src.substr(2, src.length)); // å¤„ç†ä»¥\"gc\"å¼€å¤´çš„src\r\n\t} else if (!r1.test(src) && !r2.test(src)) {\r\n\t\tsrc = coverurl(src); // å¤„ç†ä¸ç¬¦åˆå‰ç¼€è§„åˆ™çš„src\r\n\t}\r\n}\r\n//java.log(src);\r\n\r\nfunction gendlcover(did, type) {\r\n\tvar pre0 = null, dpre0 = null, npre = null;\r\n\tif (did.indexOf('0') == 0 && did.length == 8) npre = '0';\r\n\tdid = parseInt(did);\r\n\tvar rid = Math.ceil(did / 1000) * 1000;\r\n\tif (did < 10) { pre0 = \"00000\"; } else if (did < 100) { pre0 = \"0000\"; } else if (did < 1000) { pre0 = \"000\"; } else if (did < 10000) { pre0 = \"00\"; } else if (did < 100000) { pre0 = \"0\"; }\r\n\tif (rid < 10000) { dpre0 = \"00\"; } else if (rid < 100000) { dpre0 = \"0\"; }\r\n\tif (pre0) { did = pre0 + did; } if (dpre0) { rid = dpre0 + rid; } if (npre) { did = npre + did; rid = npre + rid; }\r\n\tvar usecoverproxy = false;\r\n\tif (typeof Storage !== \"undefined\") {\r\n\t\tusecoverproxy = localStorage.getItem(\"usecoverproxy\" + dayjs().format(\"YYYY-MM-DD\"));\r\n\t}\r\n\treturn (usecoverproxy ? \"//cover.ydgal.com/_200_cover/\".replace(\"/_200_cover/\", \"\") : \"//img.dlsite.jp\") + \"/resize/images2/work/\" + (!type ? \"doujin/RJ\" : \"professional/VJ\") + rid + \"/\" + (!type ? \"RJ\" : \"VJ\") + did + \"_img_main_240x240.jpg\";\r\n}\r\n\r\nfunction gengccover(did) {\r\n\treturn \"//cover.ydgal.com/_200_cover/\".replace(\"/_200_cover/\", \"/_300_cover/\") + \"/getchu/gc\" + did + \".jpg\";\r\n\t//return \"//cover.ydgal.com/_200_cover/\".replace(\"/_200_cover/\", \"\") + \"/brandnew/\" + did + \"/c\" + did + \"package_s.jpg\";\r\n}\r\n\r\nfunction coverurl(tid) {\r\n\t// å°†tidæŒ‰\"_\"åˆ†å‰²ï¼Œå–ç¬¬ä¸€éƒ¨åˆ†ä½œä¸ºæ•°å­—ä¸²num\r\n\tvar num = tid.split(\"_\")[0];\r\n\t// å®šä¹‰å°é¢å›¾ç‰‡çš„åŸºç¡€URL\r\n\tvar coverUrl = \"//cover.ydgal.com/_200_cover/\";\r\n\t// åˆ¤æ–­numæ˜¯å¦è¡¨ç¤ºçš„æ•°å­—å¤§äº1360000\r\n\tif (parseInt(num) > 1360000) {\r\n\t\t// å¯¹äºæ–°å›¾ç‰‡ï¼Œè¿”å›å¸¦æœ‰\"new/\"è·¯å¾„å‰ç¼€çš„URL\r\n\t\treturn coverUrl + \"new/\" + tid;\r\n\t} else {\r\n\t\t// å¯¹äºæ—§å›¾ç‰‡ï¼Œè¿”å›å¸¦æœ‰\"old/\"è·¯å¾„å‰ç¼€çš„URL\r\n\t\treturn coverUrl + \"old/\" + tid;\r\n\t}\r\n}\r\nsrc;\n</js>",
      "lastChapter": "class.d@text",
      "name": "class.t-l.1@text",
      "wordCount": "class.t-l.-1@text"
    },
    "ruleToc": {
      "chapterList": "title",
      "chapterName": "{{book.name}}",
      "chapterUrl": "",
      "preUpdateJs": ""
    },
    "searchUrl": "/search.so?p={{page-1}}&title={{key}}",
    "weight": 0
  }
]